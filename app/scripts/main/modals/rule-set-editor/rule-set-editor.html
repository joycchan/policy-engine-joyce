<div class="ruleEditor">
  <div class="ruleEditor-classifiers">
    <div class="ruleEditor-title">Classifiers</div>
    <div class="ruleEditor-search">
      <input-search></input-search>
    </div>
    <div class="ruleEditor-addButton">
      <div class="button">Add Custom Classifier</div>
    </div>
    <div class="ruleEditor-hDivider"></div>
    <div class="ruleEditor-category">Category</div>
    <div class="ruleEditor-category-dropdown">
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">
          All
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
          <li role="presentation"><a role="menuitem" tabindex="-1" href="#">All</a></li>
        </ul>
      </div>
    </div>
    <div class="ruleEditor-list">
      <div
        class="ruleEditor-listItem"
        ng-repeat="classifier in existingClassifiers()"
        ng-drag="isInEditModeForAnyRule()"
        ng-drag-data="decorateData(classifier, 'classifier')"
        ng-drag-success="onDragComplete($data,$event)">
        {{classifier.name}}
      </div>
    </div>
  </div>


  <div class="ruleEditor-editor">
    <div class="ruleEditor-title ruleEditor-title--editor">Rule Set Editor</div>
    <div class="ruleEditor-editor-help">
      Rules define how the network behaves.  Classifiers describe types of network traffic and actions deterimne waht to do with that type of traffic.  You can pair up existing classifiers and actions from the libraries, or you can specify your custom rule.
    </div>
    <div class="ruleEditor-listView">
      <table class="listView listView--iconsHover">
        <thead>
          <tr>
            <th></th>
            <th><div>Classifier</div><div class="rulesets-settings-list-classifierDesc">Classifiers are OR'ed</div></th>
            <th><div>Action</div><div class="rulesets-settings-list-classifierDesc">Actions are AND'ed</div></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="rule in ruleSets()" ng-drop="true" ng-drop-success="onDropComplete($data, $index)" class="rulesets-listView-row" ng-class="{'is-inEditMode': editModeHash[$index] }">
            <td class="ruleEditor-listView-numberEdit">
              <div class="rulesets-settings-list-number" ng-hide="editModeHash[$index]">{{$index + 1}}</div>
              <div class="rulesets-listView-numberEdit-edit" ng-show="editModeHash[$index]" ng-click="toggleEditRuleset($index)"><img src="images/icon_edit_16_blue.png"></div>
            </td>
            <td>
              <div class="rulesets-listView-itemContainer">
                <div class="rulesets-settings-list-classifier" ng-repeat="classifier in rule.classifiers">
                  {{classifier}}
                </div>
                <div ng-show="rule.classifiers.length === 0" class="ruleSets-listView-targetHelpText">DRAG IN CLASSIFIERS FROM LEFT</div>
              </div>
            </td>
            <td>
              <div class="rulesets-listView-itemContainer">
                <div class="rulesets-settings-list-action" ng-repeat="action in rule.actions">
                  {{action}}</div>
                  <div ng-show="rule.actions.length === 0" class="ruleSets-listView-targetHelpText">DRAG IN RULES FROM RIGHT</div>
              </div>
            </td>
            <td>
              <div ng-hide="editModeHash[$index]">
                <div class="listView-icons" ng-click="toggleEditRuleset($index)">
                  <img class="listView-icon is-hidden-on-hover" src="images/icon_edit_16.png">
                  <img class="listView-icon is-displayed-on-hover" src="images/icon_edit_16_blue.png">
                </div>
                <div class="listView-icons">
                  <img class="listView-icon is-hidden-on-hover" src="images/icon_x_16.png">
                  <img class="listView-icon is-displayed-on-hover" src="images/icon_x_dark_16.png">
                </div>
              </div>
            </td>
          </tr>
        <!--   <tr>
            <td class="ruleEditor-listView-numberEdit">
              <div class="rulesets-settings-list-number">{{ruleSets().length + 1}}</div>
            </td>
            <td colspan="3">
              <div class="rulesets-settings-list-item">
              </div>
            </td>
          </tr> -->
        </tbody>
      </table>
    </div>

    <div class="ruleEditor-openClose button-group">
        <div class="button button--secondary" ng-click="cancel()">Cancel</div>
        <div class="button" ng-click="ok()">OK</div>
    </div>
  </div>
  
  <div class="ruleEditor-actions">
    <div class="ruleEditor-title">Actions</div>
    <div class="ruleEditor-search">
      <input-search></input-search>
    </div>
    <div class="ruleEditor-addButton">
      <div class="button">Add Custom Action</div>
    </div>
    <div class="ruleEditor-hDivider"></div>
    <div class="ruleEditor-list">
      <div class="ruleEditor-listItem"
        ng-repeat="action in existingActions()"
        ng-drag="isInEditModeForAnyRule()"
        ng-drag-data="decorateData(action, 'action')"
        ng-drag-success="onDragComplete($data,$event)">
        {{action.name}}
      </div>
    </div>
  </div>
</div>
