<h2>New Service</h2>
<div class="service-wrapper">
    <form class="form-horizontal meta">
        <div class="form-group">
            <label class="col-sm-2 control-label" for="name">Name</label>

            <div class="col-sm-6">
                <input type="text" class="form-control" ng-model="service.name" id="name">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label" for="description">Description</label>

            <div class="col-sm-6">
                <textarea rows="3" class="form-control" ng-model="service.description" id="description"></textarea>
            </div>
        </div>
    </form>

    <p class="paragraph">A Service is made up of two pieces: the provider group that will be doing the work, and the rule
        set <br/>that specifies how that work will be done.</p>

    <div class="components">

        <h1>Group</h1>
        <span class="info"></span>

        <p>The group used for your new service can be a new group, an imported group, or an existing group</p>

            <div>
                <div class="button-group">
                    <div class="search-bar">
                        <label for="search">Search</label>
                        <input type="text" name="search" ng-model="search" id="search" aria-describedby="basic-addon1">
                    </div>
                    <div class="button button--secondary"
                         ng-class="{'is-selected': option.group === 'import'}" ng-click="option.group = 'import'">
                        Import Group from ISE
                    </div>
                    <div class="button button--secondary" ui-sref="main.service.newGroup"
                         ng-class="{'is-selected': option.group === 'new'}" ng-click="option.group = 'new'">
                        <div class="plus">+</div>
                        <span class="new-text">New Group</span>
                    </div>
                </div>
                <table class="table">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Endpoint Pools</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="group in groups() | filter:search" ng-click="selectGroup(group)"
                        ng-class="{selected : group === selected}">
                        <td>{{::group.name}}</td>
                        <td>
                            {{::group.endpointPool}}
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

        <span ng-hide="service.group" class="bold-text">Selected:</span>
        <span ng-show="service.group">
            <span class="bold-text">Selected:</span>
            {{service.group.name}}
            <div class="selected-icon"></div>
        </span>

        <div ui-view="group" class="component" autoscroll></div>

        <hr/>

        <h1>Rule Set</h1>

        <p>The rule set used for your new service can be a new rule set or an existing rule set.</p>

        <span ng-hide="service.ruleSet" class="bold-text">Select one of the options below:</span>
        <span ng-show="service.ruleSet">
            <span class="bold-text">Selected:</span>
            {{service.ruleSet.name}}
            <div class="selected-icon"></div>
        </span>

        <div class="button-group">
            <div class="button button--secondary" ui-sref="main.service.newRuleSet"
                 ng-class="{'is-selected': option.ruleSet === 'new'}" ng-click="option.ruleSet = 'new'">
                <div class="plus">+</div>
                <span class="new-text">New Rule Set</span>
            </div>
            <div class="button button--secondary" ui-sref="main.service.existingRuleSet"
                 ng-class="{'is-selected': option.ruleSet === 'existing'}" ng-click="option.ruleSet = 'existing'">
                Use Existing Rule Set
            </div>
        </div>
        <div ui-view="ruleSet" class="component" autoscroll></div>

        <hr/>
    </div>

    <div class="button-group">
        <div class="button button--secondary" ui-sref="main.services.filters.cards">Cancel</div>
        <div class="button" ng-click="createService()"
             ng-class="{ 'is-disabled': serviceIncomplete() }">OK
        </div>
    </div>
</div>
