<div class="assignment-cards">
    <h2>Assignments</h2>

    <div class="row">
    <div class="col-sm-3">
        <div class="catalog">
        <div class="button new-button" ng-click="newAssignment()">
            <div class="plus">+</div>
            <span class="new-text">New Assignment</span>
        </div>
        <h4>Type</h4>
        <div class="type">
            <div class="circle group-centric"></div>
            Group-Centric ({{groupCentric().length}})
        </div>
        <div class="type">
            <div class="circle service-centric"></div>
            Service-Centric ({{serviceCentric().length}})
        </div>
        <div class="category" ng-show="groupCentric().length">
            <h4>Groups</h4>
            <p ng-repeat="assignment in groupCentric()" ng-click="goToAssignment(assignment)">{{assignment.item.name}}</p>
        </div>
        <div class="category" ng-show="serviceCentric().length">
            <h4>Services</h4>
            <p ng-repeat="assignment in serviceCentric()" ng-click="goToAssignment(assignment)">{{assignment.item.name}}</p>
        </div>
        </div>
    </div>
    <div class="col-sm-9">
        <search-sort-bar card-state="cardState" list-state="listState" select-card-state="selectCategoryState"
                         select-list-state="selectListState"></search-sort-bar>
        <div class="card" ng-repeat="assignment in assignments()" >
            <h3 editable-text="assignment.item.name" e-form="textBtnForm">{{assignment.item.name}}</h3>
            <simple-donut data="assignment.collection" type="{{assignment.type}}"></simple-donut>
            <div class="sliding-box" ng-click="goToAssignment(assignment)">
                <h4>{{listHeader(assignment)}}</h4>
                <p ng-repeat="item in assignment.collection">
                    {{item.name}}
                </p>
                <div class="button-group">
                    <div ng-click="textBtnForm.$show(); $event.stopPropagation()" ng-hide="textBtnForm.$visible" class="button is-selected">Rename</div>
                    <div ng-click="delete(assignment)" class="button button--danger">Delete</div>
                </div>
            </div>
        </div>
        <div class="card new" ng-click="newAssignment()" ng-show="assignments().length === 0">
            <div class="scircle">
                <span class="img-plus-serdfn" id="plus-serdfn"></span>
            </div>
        </div>
    </div>
    </div>
</div>


